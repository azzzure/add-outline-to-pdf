# add-outline-to-pdf

一个非常简单的给扫描pdf文件添加目录的python脚本

## 概览

本脚本基于pypdf库。

脚本会读取目录字符串，将他们放进一颗目录树中。

按照目录的结构，把每条目录写进pdfwriter中，另存为工作目录下的added.pdf

## 目录字符串

目录字符串是这样的段落

``` plaintext
第1部分 数理逻辑 1
 第1章 命题逻辑的基本概念 3
  1.1 命题与联结词 3
  1.2 命题公式及其赋值 9
  习题1 14
 第2章 命题逻辑等值演算 19
 第3章 命题逻辑的推理理论 46
 第4章 一阶逻辑基本概念 60
 第5章 一阶逻辑等值演算与推理 73
第2部分 集合论 89
 第6章 集合代数 91
```

每一行由层次、标题、页码组成。

开头空格的数量代表了目录的层级。层级只能逐个增加。

空格之后是标题。

页码从后往前解析，因此页码和标题之间必须有一个空格。

目录字符串可以手动输入，可以自己添加条目。

### 另一个构成目录字符串的方法

可以从京东、淘宝、豆瓣的商品页面找到目录，复制粘贴到outline.txt中，然后调整层级。
在number.txt中按照顺序输入所有页码，脚本会自动处理他们。

## 使用

参考example.py

页码和pdf页码不一定对应，可以自己修改addtoc函数中的offset参数。

![image](https://github.com/azzzure/add-outline-to-pdf/blob/main/picture/Snipaste_Snipaste_2023-11-06_18-43-57.png)
